package utils;import org.openqa.selenium.*;import org.openqa.selenium.support.ui.ExpectedConditions;import org.openqa.selenium.support.ui.WebDriverWait;import java.time.Duration;import java.util.NoSuchElementException;public class ElementUtils {   private WebDriver driver;   private WebDriverWait wait;    public ElementUtils(WebDriver driver) {        this.driver = driver;    }    private  final int DEFAULT_TIMEOUT = 10;    //等待元素可见    public  WebElement waitForVisible(By locator) {        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(DEFAULT_TIMEOUT));        return wait.until(ExpectedConditions.visibilityOfElementLocated(locator));    }    //等待元素可点击    private  WebElement waitForClickable(By locator){        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(DEFAULT_TIMEOUT));        return wait.until(ExpectedConditions.elementToBeClickable(locator));    }    //点击元素    public  void click(By locator){        try {            waitForClickable(locator).click();        } catch (TimeoutException e) {            throw new RuntimeException("Element not clickable: " + locator);        }    }    //输入文本    public  void sendKeys(By locator,String text){        try{            waitForVisible(locator).sendKeys(text);        }catch (TimeoutException e){            throw new RuntimeException("Element not visible for sendKeys: " + locator);        }    }    //获取文本    public  String getText(By locator) {            return waitForVisible(locator).getText();        }    //判断元素是否显示    public  boolean isDisplayed(By locator) {        try {            return driver.findElement(locator).isDisplayed();        } catch (NoSuchElementException e) {            return false;        }    }    //获取属性值    public  String getDomAttribute(By locator, String attribute){        return waitForVisible(locator).getDomAttribute(attribute);    }    //使用js点击    public  void jsClick(By locator) {        WebElement element = waitForVisible(locator);        ((JavascriptExecutor) driver).executeScript("arguments[0].click();", element);    }    //获取页面title    public String getTitle(){        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(100));        return driver.getTitle();    }    //等待页面加载结束    public void waitPageToLoad(){        wait = new WebDriverWait(driver,Duration.ofSeconds(DEFAULT_TIMEOUT));        wait.until(                webDriver -> ((JavascriptExecutor) webDriver)                        .executeScript("return document.readyState")                        .equals("complete"));    }    public String getTooltipText(By locator) {        WebElement element = driver.findElement(locator);        return (String) ((JavascriptExecutor) driver)                .executeScript("return arguments[0].validationMessage;", element);    }}